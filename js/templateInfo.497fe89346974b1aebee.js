!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="//res.maka.im/cdn/makaAppFs/release/",n(n.s=180)}([function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},function(e,n,t){var r=t(31)("wks"),o=t(20),i=t(0).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,n,t){var r=t(5),o=t(42),i=t(28),a=Object.defineProperty;n.f=t(4)?Object.defineProperty:function(e,n,t){if(r(e),n=i(n,!0),r(t),o)try{return a(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){e.exports=!t(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,n,t){var r=t(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,n,t){var r=t(0),o=t(1),i=t(13),a=t(7),s=t(9),c=function(e,n,t){var l,u,d,f=e&c.F,p=e&c.G,h=e&c.S,m=e&c.P,v=e&c.B,g=e&c.W,y=p?o:o[n]||(o[n]={}),b=y.prototype,w=p?r:h?r[n]:(r[n]||{}).prototype;p&&(t=n);for(l in t)(u=!f&&w&&void 0!==w[l])&&s(y,l)||(d=u?w[l]:t[l],y[l]=p&&"function"!=typeof w[l]?t[l]:v&&u?i(d,r):g&&w[l]==d?function(e){var n=function(n,t,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,r)}return e.apply(this,arguments)};return n.prototype=e.prototype,n}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[l]=d,e&c.R&&b&&!b[l]&&a(b,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,n,t){var r=t(3),o=t(14);e.exports=t(4)?function(e,n,t){return r.f(e,n,o(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,n,t){var r=t(46),o=t(26);e.exports=function(e){return r(o(e))}},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n){e.exports=!0},function(e,n,t){var r=t(19);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,o){return e.call(n,t,r,o)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n){e.exports={}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var r=t(45),o=t(32);e.exports=Object.keys||function(e){return r(e,o)}},function(e,n,t){var r=t(26);e.exports=function(e){return Object(r(e))}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},function(e,n,t){var r=t(3).f,o=t(9),i=t(2)("toStringTag");e.exports=function(e,n,t){e&&!o(e=t?e:e.prototype,i)&&r(e,i,{configurable:!0,value:n})}},function(e,n){n.f={}.propertyIsEnumerable},function(e,n,t){"use strict";var r=t(66)(!0);t(41)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,n=this._t,t=this._i;return t>=n.length?{value:void 0,done:!0}:(e=r(n,t),this._i+=e.length,{value:e,done:!1})})},function(e,n,t){e.exports={default:t(65),__esModule:!0}},function(e,n){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,n,t){var r=t(8),o=t(0).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,n,t){var r=t(8);e.exports=function(e,n){if(!r(e))return e;var t,o;if(n&&"function"==typeof(t=e.toString)&&!r(o=t.call(e)))return o;if("function"==typeof(t=e.valueOf)&&!r(o=t.call(e)))return o;if(!n&&"function"==typeof(t=e.toString)&&!r(o=t.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,n,t){var r=t(25),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,n,t){var r=t(31)("keys"),o=t(20);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,n,t){var r=t(1),o=t(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,n){return i[e]||(i[e]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:t(12)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,n,t){"use strict";function r(e){var n,t;this.promise=new e(function(e,r){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor");n=e,t=r}),this.resolve=o(n),this.reject=o(t)}var o=t(19);e.exports.f=function(e){return new r(e)}},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n,t){n.f=t(2)},function(e,n,t){var r=t(0),o=t(1),i=t(12),a=t(35),s=t(3).f;e.exports=function(e){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in n||s(n,e,{value:a.f(e)})}},function(e,n,t){e.exports={default:t(64),__esModule:!0}},function(e,n,t){t(72);for(var r=t(0),o=t(7),i=t(15),a=t(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=r[l],d=u&&u.prototype;d&&!d[a]&&o(d,a,l),i[l]=i.Array}},function(e,n,t){var r=t(48),o=t(2)("iterator"),i=t(15);e.exports=t(1).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,n){},function(e,n,t){"use strict";var r=t(12),o=t(6),i=t(43),a=t(7),s=t(15),c=t(67),l=t(21),u=t(71),d=t(2)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,n,t,h,m,v,g){c(t,n,h);var y,b,w,x=function(e){if(!f&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new t(this,e)}}return function(){return new t(this,e)}},_=n+" Iterator",k="values"==m,E=!1,T=e.prototype,A=T[d]||T["@@iterator"]||m&&T[m],S=A||x(m),j=m?k?x("entries"):S:void 0,O="Array"==n?T.entries||A:A;if(O&&(w=u(O.call(new e)))!==Object.prototype&&w.next&&(l(w,_,!0),r||"function"==typeof w[d]||a(w,d,p)),k&&A&&"values"!==A.name&&(E=!0,S=function(){return A.call(this)}),r&&!g||!f&&!E&&T[d]||a(T,d,S),s[n]=S,s[_]=p,m)if(y={values:k?S:x("values"),keys:v?S:x("keys"),entries:j},g)for(b in y)b in T||i(T,b,y[b]);else o(o.P+o.F*(f||E),n,y);return y}},function(e,n,t){e.exports=!t(4)&&!t(11)(function(){return 7!=Object.defineProperty(t(27)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){e.exports=t(7)},function(e,n,t){var r=t(5),o=t(68),i=t(32),a=t(30)("IE_PROTO"),s=function(){},c=function(){var e,n=t(27)("iframe"),r=i.length;for(n.style.display="none",t(47).appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,n){var t;return null!==e?(s.prototype=r(e),t=new s,s.prototype=null,t[a]=e):t=c(),void 0===n?t:o(t,n)}},function(e,n,t){var r=t(9),o=t(10),i=t(69)(!1),a=t(30)("IE_PROTO");e.exports=function(e,n){var t,s=o(e),c=0,l=[];for(t in s)t!=a&&r(s,t)&&l.push(t);for(;n.length>c;)r(s,t=n[c++])&&(~i(l,t)||l.push(t));return l}},function(e,n,t){var r=t(16);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,n,t){var r=t(0).document;e.exports=r&&r.documentElement},function(e,n,t){var r=t(16),o=t(2)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,n){try{return e[n]}catch(e){}};e.exports=function(e){var n,t,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=a(n=Object(e),o))?t:i?r(n):"Object"==(s=r(n))&&"function"==typeof n.callee?"Arguments":s}},function(e,n,t){var r=t(5);e.exports=function(e,n,t,o){try{return o?n(r(t)[0],t[1]):n(t)}catch(n){var i=e.return;throw void 0!==i&&r(i.call(e)),n}}},function(e,n,t){var r=t(15),o=t(2)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,n,t){var r=t(5),o=t(19),i=t(2)("species");e.exports=function(e,n){var t,a=r(e).constructor;return void 0===a||void 0==(t=r(a)[i])?n:o(t)}},function(e,n,t){var r,o,i,a=t(13),s=t(78),c=t(47),l=t(27),u=t(0),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var n=g[e];delete g[e],n()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),n)},r(v),v},p=function(e){delete g[e]},"process"==t(16)(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:f,clear:p}},function(e,n){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,n,t){var r=t(5),o=t(8),i=t(33);e.exports=function(e,n){if(r(e),o(n)&&n.constructor===e)return n;var t=i.f(e);return(0,t.resolve)(n),t.promise}},function(e,n,t){var r=t(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,n){if(!n&&!o)return!1;var t=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:t=!0}},i[r]=function(){return a},e(i)}catch(e){}return t}},function(e,n,t){var r=t(45),o=t(32).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(60),i=r(o),a=t(90),s=r(a),c=t(24),l=r(c),u=t(62),d=r(u),f=t(37),p=r(f),h=t(58),m=r(h),v=t(59),g=r(v),y=function(){function e(){(0,m.default)(this,e)}return(0,g.default)(e,[{key:"stringifyQuery",value:function(e){var n=[];for(var t in e){var r=e[t];r="string"==typeof r?r:"number"==typeof r&&isNaN(r)?"NaN":void 0===r?"undefined":(0,p.default)(r),n.push([t+"="+r])}return n.join("&")}},{key:"getUrlHash",value:function(){var e=window.location.hash.substr(1).split(";"),n={},t=void 0;return e.forEach(function(e){t=e.split("="),2==t.length&&(n[t[0]]=t[1])}),n}},{key:"getCookiesID",value:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var n=this.getCookie("cookiesid");return n||(n=function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),this.setCookie("cookiesid",n)),n}},{key:"getParam",value:function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(n);return null!=t?decodeURI(t[2]):null}},{key:"replaceParam",value:function(e,n){var t=new RegExp("(^|&)"+e+"=([^&]*)(?=&|$)");return window.location.search.slice(1).match(t)?location.pathname+"?"+location.search.slice(1).replace(t,e+"="+n):location.pathname+(location.search?location.search+"&":"?")+e+"="+n}},{key:"getRequest",value:function(){var e=location.search,n=new Object;if(-1!=e.indexOf("?"))for(var t=e.substr(1),r=t.split("&"),o=0;o<r.length;o++)n[r[o].split("=")[0]]=unescape(r[o].split("=")[1]);return n}},{key:"setCookie",value:function(e,n,t,r,o){var i=new Date,a=r||"/";t?i.setTime(i.getTime()+parseInt(t)):i.setTime(i.getTime()+864e6),document.cookie=e+"="+escape(n)+";expires="+i.toGMTString()+";path="+a+(o?";domain="+o:"")}},{key:"getCookie",value:function(e){var n,t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(t))?unescape(n[2]):null}},{key:"clearCookie",value:function(){var e=document.cookie.match(/[^ =;]+(?=\=)/g);if(e)for(var n=e.length;n--;)e[n].indexOf("_lastNotice")>-1||(document.cookie=e[n]+"=0;expires="+new Date(0).toUTCString(),document.cookie=e[n]+"=0;expires="+new Date(0).toUTCString()+";path=/;domain=.maka.im",document.cookie=e[n]+"=0;expires="+new Date(0).toUTCString()+";path=/;domain=."+location.host)}},{key:"deleteCookie",value:function(e){this.setCookie(e,"",-1)}},{key:"removeCookie",value:function(e,n,t){if("string"==typeof e)document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(n?"; path="+n:"");else if("object"===(void 0===e?"undefined":(0,d.default)(e)))for(var r in e)document.cookie=encodeURIComponent(e[r])+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(n?"; path="+n:"")}},{key:"Msg",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return new l.default(function(t){var r=document.createElement("div");r.innerHTML='<div class="des-tips-bar"><div class="des-tips-bar-container"><span>'+e+"</span></div></div>",document.body.appendChild(r),setTimeout(function(){document.body.removeChild(r),t&&t()},n)})}},{key:"isWeChat",value:function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}},{key:"formatTimeByMin",value:function(e){if(e<10)return"刚刚";if(e<60)return parseInt(e)+"分钟前";if(e<1440)return parseInt(e/60)+"小时前";if(e<2880)return"昨天";if(e<4320)return"前天";if(e<5760)return"3天前";var n=new Date(new Date-60*e*1e3);return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}},{key:"versionCompare",value:function(e,n){if(e=e||"0.0.0",n=n||"0.0.0",e==n)return!0;for(var t=e.split("."),r=n.split("."),o=Math.max(t.length,r.length),i=0;i<o;i++){var a=~~r[i],s=~~t[i];if(a<s)return!0;if(a>s)return!1}return!0}},{key:"IOSBrowserReturn",value:function(){function e(){return(0,p.default)({type:"hybird"})}window.function_bridge=e}},{key:"IOSForward",value:function(e,n){window.webkit.messageHandlers.JS_MESSAGE_MODEL.postMessage((0,p.default)({type:"MKForward",data:{type:n,goto:e}}))}},{key:"wxShare",value:function(e){wx.ready(function(){wx.onMenuShareAppMessage({title:e.title||"MAKA",desc:e.desc||"MAKA",link:e.link||location.href,imgUrl:e.imgUrl||"//img1.maka.im/common/images/memberIcon/maka_64.png",success:function(){e.success&&e.success()},cancel:function(){e.cancel&&e.cancel()},fail:function(e){alert((0,p.default)(e))}}),wx.onMenuShareTimeline({title:e.timeLineTitle||e.title||"MAKA",link:e.link||location.href,imgUrl:e.imgUrl||"//img1.maka.im/common/images/memberIcon/maka_64.png",success:function(){e.success&&e.success()},cancel:function(){e.cancel&&e.cancel()},fail:function(e){alert((0,p.default)(e))}})})}},{key:"debounce",value:function(e,n,t){var r;return function(){var o=this,i=arguments,a=function(){r=null,t||e.apply(o,i)},s=t&!r;clearTimeout(r),r=setTimeout(a,n),s&&e.apply(o,i)}}},{key:"addQuery",value:function(e,n){for(var t in n)e.indexOf(t)<0?(e+=e.indexOf("?")<0?"?":"&",e+=t+"="+n[t]):e=e.replace(new RegExp("("+t+"=)[\\w]+"),t+"="+n[t]);return e}},{key:"isAndroid",value:function(){return window.isApp,window.isAndroid=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,window.isAndroid}},{key:"getAppType",value:function(){window.isApp;var e=window.navigator.userAgent.toLowerCase();return e.indexOf("ios")>-1?"ios":e.indexOf("android")>-1?"android":void 0}},{key:"appCheckLogin",value:function(e){window.isApp&&(window.isAndroid?(e&&alert("id  "+window.androidApi.getUserId()),this.appSetLoginData(window.androidApi.getUserId())):this.postIosMsg({type:"MKLoginState",data:{}}))}},{key:"appSetLoginData",value:function(e,n){e?(window.isLogin=!0,window.MakaUid=e,this.setCookie("Makauid",e),localStorage.setItem("Makauid",e),n&&this.setCookie("token",n)):(window.isLogin=!1,this.deleteCookie("Makauid"),localStorage.setItem("Makauid",""))}},{key:"hasLogin",value:function(){return this.getCookie("Makauid")&&"undefined"!==this.getCookie("token")}},{key:"postIosMsg",value:function(e){window.webkit.messageHandlers.JS_MESSAGE_MODEL.postMessage((0,p.default)(e))}},{key:"checkLoginAndGo",value:function(e,n){var t=this;n&&alert("in check login"),this.appCheckLogin(n),setTimeout(function(){n&&alert("window.isLogin "+window.isLogin+" window.isAndroid "+window.isAndroid+"  "),window.isLogin?e&&e():window.isAndroid?window.androidApi.requestLogin():t.postIosMsg({type:"MKLogin",data:{}})},100)}},{key:"appShare",value:function(e){window.isApp,window.isAndroid?window.androidApi.shareUrl(e.url,e.thumb,e.title,e.description,"weixin,weixin_circle"):this.postIosMsg({type:"MKShareConfig",data:{title:e.title,thumb:e.thumb,url:e.url,description:e.description,platforms:["wechat_session","wechat_timeline"],type:e.type||"app"}})}},{key:"addAndroidNativeMessage",value:function(e,n){if(!window._onNativeMessage)throw"the useragent is not android native app";window.onNativeMessage[e]=n}},{key:"addIOSFunctionBridge",value:function(e,n){if(!window.functionBridge)throw"the useragent is not ios native app";window.functionBridge[e]=n}},{key:"appGo",value:function(e,n){isApp?(!e.includes("//")||e.includes("http")||e.includes("maka://")||(e=location.protocol+e),window.isAndroid?window.androidApi.openUrl(e,"_blank",n):this.IOSForward(e,"native")):ROUTER.go(e)}},{key:"getMixedChineseEncodeWith2Chars",value:function(e){var n=e.match(/[\u4e00-\u9fa5]/g);return n?e.length+n.length:e.length}},{key:"limitInput",value:function(e,n,t,r){var o=void 0;if(this.getMixedChineseEncodeWith2Chars(e.value)>n){for(o=n/2;o<=n&&!(this.getMixedChineseEncodeWith2Chars(e.value.slice(0,o))>n);o++);e.value=e.value.slice(0,o-1),r(e)}else t(e)}},{key:"IOSPopGesture",value:function(){window.webkit.messageHandlers.JS_MESSAGE_MODEL.postMessage((0,p.default)({type:"MKPopGestureConfig",data:{enable:"1"}}))}},{key:"throttle",value:function(e,n,t){var r,o,i,a=null,s=0;t||(t={});var c=function(){s=!1===t.leading?0:new Date,a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var l=new Date;s||!1!==t.leading||(s=l);var u=n-(l-s);return r=this,o=arguments,u<=0||u>n?(a&&(clearTimeout(a),a=null),s=l,i=e.apply(r,o),a||(r=o=null)):a||!1===t.trailing||(a=setTimeout(c,u)),i}}},{key:"timeCountDown",value:function(e,n){var t={zero:function(e){var e=parseInt(e,10);return e>0?(e<=9&&(e="0"+e),String(e)):"00"},dv:function(){var n=new Date(e),r=new Date,o=Math.round((n.getTime()-r.getTime())/1e3),i={sec:"00",min:"00",hour:"00",day:"00",month:"00",year:"0"};return o>0&&(i.sec=t.zero(o%60),i.min=Math.floor(o/60)>0?t.zero(Math.floor(o/60)%60):"00",i.hour=Math.floor(o/3600)>0?t.zero(Math.floor(o/3600)%24):"00",i.day=Math.floor(o/86400)>0?t.zero(Math.floor(o/86400)%30):"00",i.month=Math.floor(o/2629744)>0?t.zero(Math.floor(o/2629744)%12):"00",i.year=Math.floor(o/31556926)>0?Math.floor(o/31556926):"0"),i},ui:function(){for(var e in n)n[e].innerHTML=t.dv()[e];setTimeout(t.ui,1e3)}};t.ui()}},{key:"isMiniPro",value:function(){return window.isMiniPro||"true"===this.getParam("isMiniPro")}},{key:"getRandomNum",value:function(e,n){return Math.floor(Math.random()*(n-e+1)+e)}},{key:"getGrayUser",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!n)return!1;for(var t=e&&e.toString().slice(-1),r=(0,s.default)({length:10}).map(function(e,n){return n}),o=parseInt(n)/100*10,i=0;i<o;i++)if(t<=r.shift())return!0;return!1}},{key:"getJSType",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}},{key:"convertDuration",value:function(e){e/=1e3;var n=Math.floor(e%10);e=Math.floor(e/10);var t=e%6;e=Math.floor(e/6);var r=e%10;return""+(e=Math.floor(e/10))+r+":"+t+n}},{key:"setToast",value:function(e){var n=$(".tips-modal"),t=$(".tips-wrapper"),r=parseInt(e.duration)||2e3;t.html(e.text),n.show(),setTimeout(function(){n.hide()},r/2),setTimeout(function(){"function"==typeof e.callback&&callback()},r)}},{key:"toggleWindow",value:function(e){switch(e){case"show":$("#e-common-modal").show();break;case"hide":$("#e-common-modal").hide();break;default:$("#e-common-modal").toggle()}}},{key:"popWindow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l.default(function(n){var t=(0,i.default)({},{title:"",content:"",showCloseIcon:!1,showLittileCloseIcon:!e.showCloseIcon&&!e.showCloseBtn,btn:{text:"好的，我知道了"}},e),r=$("#e-common-modal");if(r){r.show(),t.custom&&(t.wrapperCss=(0,i.default)({},{width:"auto",padding:0,background:"none"},t.wrapperCss),t.showLittileCloseIcon=!1),t.freedomPosition&&(t.wrapperCss=(0,i.default)({},{transform:"none",position:"initial"},t.wrapperCss)),$("#e-common-modal .commonmodal-wrapper").removeAttr("style").css(t.wrapperCss),$("#e-common-modal .commonmodal-title").removeAttr("style").html(t.title).css(t.titleCss),$("#e-common-modal .commonmodal-content").removeAttr("style").html(t.content).css(t.contentCss),$("#e-common-modal .commonmodal-close-btn").removeAttr("style").html(t.btn&&t.btn.text).css(t.btnCss);var o=$("#e-common-modal .commonmodal-icon-close");t.showCloseIcon?o.show():o.hide();var a=$("#e-common-modal .commonmodal-close-btn");t.showCloseBtn?a.show():a.hide();var s=$("#e-common-modal .commonmodal-title");t.title?s.show():s.hide();var c=$("#e-common-modal .commonmodal-little-icon-close");t.showLittileCloseIcon?c.show():c.hide(),r.on("click",function(){t.maskCanClose&&(r.hide(),t.callback&&t.callback())}),r.find(".commonmodal-icon-close,.commonmodal-little-icon-close").on("click",function(e){e&&e.preventDefault(),r.hide(),t.callback&&t.callback()}),r.find(".commonmodal-close-btn").on("click",function(e){e&&e.preventDefault(),t.btn&&t.btn.cb?t.btn.cb():(r.hide(),t.callback&&t.callback())}),n(r)}else n("")})}},{key:"loading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.popWindow({custom:!0,content:"<div style='color:#d0d0d0;font-size:14px;'>\n        <img class='modal-box' src=\"//res.maka.im/assets/loading.gif\" style='width:1.2rem;margin-bottom:0.2rem'>\n        <div class='loading-hint'>"+e.text+"</div>\n      </div>"})}},{key:"downloadApp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isAndroid()?location.href="//maka.im/wap/download/jump?source="+e.source+"&medium="+e.medium:location.href="//apps.apple.com/cn/app/maka-h5-%E6%B5%B7%E6%8A%A5-%E8%A7%86%E9%A2%91%E6%A8%A1%E7%89%88/id1021136726"}},{key:"isInClient",value:function(){var e=Object.prototype.toString;try{return null!=window.CefSharp&&"[object Object]"==e.call(window.CefSharp)}catch(e){return!1}}},{key:"getDevice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"ios":/(Android)/i.test(navigator.userAgent)?"android":this.isInClient()?"win":e?"wap":"other"}},{key:"getPlatform",value:function(){return window.isApp?"android":this.isMiniPro()?"miniprogram":"wap"}},{key:"trackClick",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={event_type:"click"},r=(0,i.default)({},t,n);this.trackEvent(e,r)}},{key:"trackPage",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={event_type:"page",url:window.location.href},r=(0,i.default)({},t,n);this.trackEvent(e,r)}},{key:"trackEvent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(sensorBuildMark)try{var t={cookies_id:this.getCookie("cookiesId")||"",device:this.getDevice(),platform_type:this.getPlatform()},r=(0,i.default)({},t,n);sensorBuildMark(e,r)}catch(e){}}},{key:"saTrackPageview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(sa){var t={device:this.getDevice(),platform_type:this.getPlatform(),$utm_medium:"weixin",$utm_campaign:"viral",$utm_content:window.abTest&&window.abTestTerm+"-"+window.abTest,$utm_term:window.abTest&&""+window.abTestTerm,position:this.getParam("position")||"",origin:this.getParam("origin")||""};if(n.getUtmFromUrl);else t=(0,i.default)({},t,e);try{sa.setOnceProfile(t),sa.quick("autoTrack",t)}catch(e){}}}},{key:"linkToPreview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.androidApi){var t=window.location.origin+"/appfs/template/"+e.id+"?pay_channel=unlockList";androidApi.openUrl(t,"_blank","")}else if(window.webkit){var r={type:"MKTemplateDetail",data:{id:e.id,templateId:e.id,title:e.title,price:e.price,designer_nickname:e.designerInfo&&e.designerInfo.nickname||e.designer_nickname||"",real_price:e.real_price||e.price,firstImg:e.firstImg,enable_lease:1}};window.webkit.messageHandlers.JS_MESSAGE_MODEL.postMessage((0,p.default)(r))}else location.href=n.wapLink||e.viewer_url}},{key:"getWechatShareLink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.includes("//")||(e=""+(window.location.origin+window.location.pathname+e));var n="";return sa&&sa.store&&(n=sa.store.getFirstId()||sa.store.getDistinctId()),window.location.origin+"/wechat/api/v1/login?url="+encodeURIComponent(e)+"&config=maka_gzh&sensor_id="+n}}]),e}();n.default=new y},function(e,n,t){"use strict";n.__esModule=!0,n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n,t){"use strict";n.__esModule=!0;var r=t(61),o=function(e){return e&&e.__esModule?e:{default:e}}(r);n.default=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n,t){e.exports={default:t(87),__esModule:!0}},function(e,n,t){e.exports={default:t(85),__esModule:!0}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=t(94),i=r(o),a=t(96),s=r(a),c="function"==typeof s.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};n.default="function"==typeof s.default&&"symbol"===c(i.default)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":c(e)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=location.protocol+"//maka.im",o=location.protocol+"//api.maka.im",i=location.protocol+"//maka.im",a=location.protocol+"//img1.maka.im",s={NORMAL_AB_TEST:"http://tongji.maka.im/appfs/normal_abtest",MAKA_ICON:"//img1.maka.im/common/images/memberIcon/maka_64.png",MAKA_APP_DOWNLOAD:"https://a.app.qq.com/o/simple.jsp?pkgname=com.maka.app&ckey=CK1346850100723",urlHost:r,makaAPIUrl:o,publiceServer:i,imgHost:a,GET_USER_INFO:function(e){return"/api/v1/users/"+e},GET_MISSIONS_API:function(e){return"/api/v1/users/"+e+"/missions"},GET_SHARE_SHOURCE:function(e,n){return"/api/v1/users/"+e+"/missions/"+n+"/share_source"},API_DESIGNERS_SHELVES:function(e){return"/api/v1/shelves/"+e},API_RECOMMENDED_TEMPLATES:"/api/v1/recommended_templates",API_VIP_DATA:"/api/v1/customer_vips",API_VIP_ORDER:function(e,n){return"/api/v1/users/"+e+"/orders/customer_vips/"+n},GET_USER_VIPS:function(e){return"/api/v1/users/"+e+"/customer_vips"},API_GIFT_CODE:function(e){return"/api/v1/users/"+e+"/gift_codes"},API_WECHAT_GIFT:"/api/v1/gift_codes",API_USER_VIP_AUTH:function(e){return"/api/v1/users/"+e+"/lease_auth"},API_COMPELE_MISSIONS:function(e){return"/api/v1/users/"+e+"/missions"},API_WEIXIN:o+"/wechat/authorize_plat?callback_plat=",API_LOGOUT:function(e){return"/api/v1/users/"+e+"/sessions"},API_UESR_LOGIN:"/api/v1/sessions",API_TAGS_NAVIGATION:"/api/v2/store_tags",API_TEMPLATE_DETAIL:function(e){return"/api/v1/store_templates/"+e},API_NEW_ORDER_TEMPLATE:function(e,n){return"/api/v1/users/"+e+"/order_templates/"+n},API_ORDER_DETAIL:function(e,n){return"/api/v1/users/"+e+"/orders/"+n},API_GET_OPEN_ID:"/wechat/api/v1/login",API_NEW_WECHAT_PAY:i+"/wechat/api/v1/pays",API_NEW_LAST_PAY:function(e,n){return"/api/v1/users/"+e+"/pays/"+n+"/balance"},API_RECOMMENDED_STREAM:"/api/v1/streams",API_COIN_RECOMMENDED_STREAM:"/api/v5/task/invite_task/bind",API_USER_STREAMS:function(e){return"/api/v1/users/"+e+"/streams"},COIN_LANDINGPAGE_SHARE_CONFIG:"/api/v5/task/invite_task/info",API_DOWNLOADPAGE_USERINFO:function(e){return"/api/v5/promo/common/user_info?union_id="+e},API_DOWNLOADPAGE_INVITELIST:"/api/v5/task/invite_task/comments",TEAM_USERINFO:"/api/v5/promo/group_chest/info",TEAM_TEAMLIST:"/api/v5/promo/group_chest/list",TEAM_JOIN_TEAM:"/api/v5/promo/group_chest/join",TEAM_LOTTERY:"/api/v5/lottery/lottery/process",RETAIL_JOIN_TEAM:function(){return"/api/v5/promo/user_relay/join"},UNLOCK_JOIN_TEAM:function(){return"/api/v5/promo/template_unlock/join"},UNLOCKLIST_JOIN_TEAM:function(e){return"/api/v5/promo/template_collection/"+e},COWX_CLIENT_INFO:function(e){return"//maka-wechat.maka.mobi/api/work/contactInfo?external_user_id="+e},INVITEBOTHVIP_JOIN_TEAM:function(e){return"/api/v5/promo/share_invitation/"+e},STORE_ID:{maka_app:1,pc:2},GROUP_ID:{mainPage:0,h5:1,poster:2},GET_STORE_BANNERS:function(e){return"/api/v1/stores/"+e+"/banners"},GET_STORE_TOPIC:function(e){return"/api/v1/stores/"+e+"/topics"},GET_APPEND_STORE_TOPIC:function(e){return"/api/v1/template_sets/"+e+"?page_number="+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"&per_page="+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:8)},GET_APPEND_TAG_TOPIC:function(e,n,t){return"/wap/tag/"+n+"?type="+e+"&page_number="+t+"&per_page=5&json=1"},GET_SEARCH_HOT_KEYWORDS:"/api/v1/stores/1/hot_keywords",GET_SEARCH_RESULT:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return"/api/v2/store_templates?words="+n+"&price=all&order="+(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"hot")+"&per_page="+r+"&page_number="+t+"&type="+e},GET_RECOMMENDED_TEMPLATES:function(e){return"/api/v1/recommended_templates?type="+e+"&page_number="+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"&per_page="+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:8)},GET_TAGS_TEMPLATE:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"/api/v2/store_templates?price="+(arguments.length>5&&void 0!==arguments[5]?arguments[5]:"all")+"&order="+(arguments.length>6&&void 0!==arguments[6]?arguments[6]:"hot")+"&per_page="+t+"&page_number="+n+"&type="+e},GET_INDUSTRY_LIST:"/api/v1/public/user_industries",PUT_INDUSTRY:function(e){return"/api/v1/users/"+e},GET_HEADLINE:"/api/toutiao/v1/headlines",SET_HL_AD:function(e){return"/api/toutiao/v1/users/"+e+"/headlines"},PUT_STAT:function(e){return i+"/api/toutiao/v1/headlines/"+e+"/statistics"},CREATE_AD:function(e){return"/api/toutiao/v1/users/"+e+"/headline_ads/create"},EDIT_AD:function(e,n){return"/api/toutiao/v1/users/"+e+"/headline_ads/"+n+"/edit"},DEL_AD:function(e,n){return"/api/toutiao/v1/users/"+e+"/headline_ads/"+n},TOUTIAO_ADD_TAG:function(e){return"/api/toutiao/v1/users/"+e+"/headline_tags"},TOUTIAO_DELETE_TAG:function(e,n){return"/api/toutiao/v1/users/"+e+"/headline_tags/"+n},GET_OSS_IMG:function(e,n,t,r,o){return"/"===e[0]?""+a+e+"?x-oss-process=image/crop,x_"+n+",y_"+t+",w_"+r+",h_"+o:a+"/"+e+"?x-oss-process=image/crop,x_"+n+",y_"+t+",w_"+r+",h_"+o},USER_EVENTS:function(e){return"/api/v1/users/"+e+"/all_events?type="+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all")},API_GET_TEMPLATES:function(e){return"/api/v1/users/"+e+"/templates"},API_GET_LEASE_TEMPLATES:function(e){return"/api/v1/users/"+e+"/lease_templates"},GET_PERSONAL_VIEWER_VERSION:function(e,n){return"/api/plat/v1/users/"+e+"/events/"+n+"/viewer_versions"},API_EVENTS:function(e,n){return"/api/v1/users/"+e+"/events/"+n},GENERATE_PROJECT:function(e,n){return"/api/plat/v1/users/"+e+"/events/"+n+"/video_renders"},APP_VERSION_DOWNLOAD:"https://img1.maka.im/appdownload/app.download.json",SELECT_TEMPLATE:function(){return"/api/v5/promo/end_page/templates"}};n.default=s},function(e,n,t){var r=t(1),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,n,t){t(40),t(23),t(38),t(75),t(83),t(84),e.exports=t(1).Promise},function(e,n,t){var r=t(25),o=t(26);e.exports=function(e){return function(n,t){var i,a,s=String(o(n)),c=r(t),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536)}}},function(e,n,t){"use strict";var r=t(44),o=t(14),i=t(21),a={};t(7)(a,t(2)("iterator"),function(){return this}),e.exports=function(e,n,t){e.prototype=r(a,{next:o(1,t)}),i(e,n+" Iterator")}},function(e,n,t){var r=t(3),o=t(5),i=t(17);e.exports=t(4)?Object.defineProperties:function(e,n){o(e);for(var t,a=i(n),s=a.length,c=0;s>c;)r.f(e,t=a[c++],n[t]);return e}},function(e,n,t){var r=t(10),o=t(29),i=t(70);e.exports=function(e){return function(n,t,a){var s,c=r(n),l=o(c.length),u=i(a,l);if(e&&t!=t){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===t)return e||u||0;return!e&&-1}}},function(e,n,t){var r=t(25),o=Math.max,i=Math.min;e.exports=function(e,n){return e=r(e),e<0?o(e+n,0):i(e,n)}},function(e,n,t){var r=t(9),o=t(18),i=t(30)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,n,t){"use strict";var r=t(73),o=t(74),i=t(15),a=t(10);e.exports=t(41)(Array,"Array",function(e,n){this._t=a(e),this._i=0,this._k=n},function(){var e=this._t,n=this._k,t=this._i++;return!e||t>=e.length?(this._t=void 0,o(1)):"keys"==n?o(0,t):"values"==n?o(0,e[t]):o(0,[t,e[t]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,n){e.exports=function(){}},function(e,n){e.exports=function(e,n){return{value:n,done:!!e}}},function(e,n,t){"use strict";var r,o,i,a,s=t(12),c=t(0),l=t(13),u=t(48),d=t(6),f=t(8),p=t(19),h=t(76),m=t(77),v=t(51),g=t(52).set,y=t(79)(),b=t(33),w=t(53),x=t(80),_=t(54),k=c.TypeError,E=c.process,T=E&&E.versions,A=T&&T.v8||"",S=c.Promise,j="process"==u(E),O=function(){},$=o=b.f,P=!!function(){try{var e=S.resolve(1),n=(e.constructor={})[t(2)("species")]=function(e){e(O,O)};return(j||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof n&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var n;return!(!f(e)||"function"!=typeof(n=e.then))&&n},I=function(e,n){if(!e._n){e._n=!0;var t=e._c;y(function(){for(var r=e._v,o=1==e._s,i=0;t.length>i;)!function(n){var t,i,a,s=o?n.ok:n.fail,c=n.resolve,l=n.reject,u=n.domain;try{s?(o||(2==e._h&&L(e),e._h=1),!0===s?t=r:(u&&u.enter(),t=s(r),u&&(u.exit(),a=!0)),t===n.promise?l(k("Promise-chain cycle")):(i=M(t))?i.call(t,c,l):c(t)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}}(t[i++]);e._c=[],e._n=!1,n&&!e._h&&C(e)})}},C=function(e){g.call(c,function(){var n,t,r,o=e._v,i=N(e);if(i&&(n=w(function(){j?E.emit("unhandledRejection",o,e):(t=c.onunhandledrejection)?t({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=j||N(e)?2:1),e._a=void 0,i&&n.e)throw n.v})},N=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){g.call(c,function(){var n;j?E.emit("rejectionHandled",e):(n=c.onrejectionhandled)&&n({promise:e,reason:e._v})})},D=function(e){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=e,n._s=2,n._a||(n._a=n._c.slice()),I(n,!0))},R=function(e){var n,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw k("Promise can't be resolved itself");(n=M(e))?y(function(){var r={_w:t,_d:!1};try{n.call(e,l(R,r,1),l(D,r,1))}catch(e){D.call(r,e)}}):(t._v=e,t._s=1,I(t,!1))}catch(e){D.call({_w:t,_d:!1},e)}}};P||(S=function(e){h(this,S,"Promise","_h"),p(e),r.call(this);try{e(l(R,this,1),l(D,this,1))}catch(e){D.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=t(81)(S.prototype,{then:function(e,n){var t=$(v(this,S));return t.ok="function"!=typeof e||e,t.fail="function"==typeof n&&n,t.domain=j?E.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&I(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(R,e,1),this.reject=l(D,e,1)},b.f=$=function(e){return e===S||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!P,{Promise:S}),t(21)(S,"Promise"),t(82)("Promise"),a=t(1).Promise,d(d.S+d.F*!P,"Promise",{reject:function(e){var n=$(this);return(0,n.reject)(e),n.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(e){return _(s&&this===a?S:this,e)}}),d(d.S+d.F*!(P&&t(55)(function(e){S.all(e).catch(O)})),"Promise",{all:function(e){var n=this,t=$(n),r=t.resolve,o=t.reject,i=w(function(){var t=[],i=0,a=1;m(e,!1,function(e){var s=i++,c=!1;t.push(void 0),a++,n.resolve(e).then(function(e){c||(c=!0,t[s]=e,--a||r(t))},o)}),--a||r(t)});return i.e&&o(i.v),t.promise},race:function(e){var n=this,t=$(n),r=t.reject,o=w(function(){m(e,!1,function(e){n.resolve(e).then(t.resolve,r)})});return o.e&&r(o.v),t.promise}})},function(e,n){e.exports=function(e,n,t,r){if(!(e instanceof n)||void 0!==r&&r in e)throw TypeError(t+": incorrect invocation!");return e}},function(e,n,t){var r=t(13),o=t(49),i=t(50),a=t(5),s=t(29),c=t(39),l={},u={},n=e.exports=function(e,n,t,d,f){var p,h,m,v,g=f?function(){return e}:c(e),y=r(t,d,n?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(p=s(e.length);p>b;b++)if((v=n?y(a(h=e[b])[0],h[1]):y(e[b]))===l||v===u)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=o(m,y,h.value,n))===l||v===u)return v};n.BREAK=l,n.RETURN=u},function(e,n){e.exports=function(e,n,t){var r=void 0===t;switch(n.length){case 0:return r?e():e.call(t);case 1:return r?e(n[0]):e.call(t,n[0]);case 2:return r?e(n[0],n[1]):e.call(t,n[0],n[1]);case 3:return r?e(n[0],n[1],n[2]):e.call(t,n[0],n[1],n[2]);case 4:return r?e(n[0],n[1],n[2],n[3]):e.call(t,n[0],n[1],n[2],n[3])}return e.apply(t,n)}},function(e,n,t){var r=t(0),o=t(52).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==t(16)(a);e.exports=function(){var e,n,t,l=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?t():n=void 0,r}}n=void 0,r&&r.enter()};if(c)t=function(){a.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);t=function(){u.then(l)}}else t=function(){o.call(r,l)};else{var d=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),t=function(){f.data=d=!d}}return function(r){var o={fn:r,next:void 0};n&&(n.next=o),e||(e=o,t()),n=o}}},function(e,n,t){var r=t(0),o=r.navigator;e.exports=o&&o.userAgent||""},function(e,n,t){var r=t(7);e.exports=function(e,n,t){for(var o in n)t&&e[o]?e[o]=n[o]:r(e,o,n[o]);return e}},function(e,n,t){"use strict";var r=t(0),o=t(1),i=t(3),a=t(4),s=t(2)("species");e.exports=function(e){var n="function"==typeof o[e]?o[e]:r[e];a&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(e,n,t){"use strict";var r=t(6),o=t(1),i=t(0),a=t(51),s=t(54);r(r.P+r.R,"Promise",{finally:function(e){var n=a(this,o.Promise||i.Promise),t="function"==typeof e;return this.then(t?function(t){return s(n,e()).then(function(){return t})}:e,t?function(t){return s(n,e()).then(function(){throw t})}:e)}})},function(e,n,t){"use strict";var r=t(6),o=t(33),i=t(53);r(r.S,"Promise",{try:function(e){var n=o.f(this),t=i(e);return(t.e?n.reject:n.resolve)(t.v),n.promise}})},function(e,n,t){t(86);var r=t(1).Object;e.exports=function(e,n,t){return r.defineProperty(e,n,t)}},function(e,n,t){var r=t(6);r(r.S+r.F*!t(4),"Object",{defineProperty:t(3).f})},function(e,n,t){t(88),e.exports=t(1).Object.assign},function(e,n,t){var r=t(6);r(r.S+r.F,"Object",{assign:t(89)})},function(e,n,t){"use strict";var r=t(4),o=t(17),i=t(34),a=t(22),s=t(18),c=t(46),l=Object.assign;e.exports=!l||t(11)(function(){var e={},n={},t=Symbol(),r="abcdefghijklmnopqrst";return e[t]=7,r.split("").forEach(function(e){n[e]=e}),7!=l({},e)[t]||Object.keys(l({},n)).join("")!=r})?function(e,n){for(var t=s(e),l=arguments.length,u=1,d=i.f,f=a.f;l>u;)for(var p,h=c(arguments[u++]),m=d?o(h).concat(d(h)):o(h),v=m.length,g=0;v>g;)p=m[g++],r&&!f.call(h,p)||(t[p]=h[p]);return t}:l},function(e,n,t){e.exports={default:t(91),__esModule:!0}},function(e,n,t){t(23),t(92),e.exports=t(1).Array.from},function(e,n,t){"use strict";var r=t(13),o=t(6),i=t(18),a=t(49),s=t(50),c=t(29),l=t(93),u=t(39);o(o.S+o.F*!t(55)(function(e){Array.from(e)}),"Array",{from:function(e){var n,t,o,d,f=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,g=0,y=u(f);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(n=c(f.length),t=new p(n);n>g;g++)l(t,g,v?m(f[g],g):f[g]);else for(d=y.call(f),t=new p;!(o=d.next()).done;g++)l(t,g,v?a(d,m,[o.value,g],!0):o.value);return t.length=g,t}})},function(e,n,t){"use strict";var r=t(3),o=t(14);e.exports=function(e,n,t){n in e?r.f(e,n,o(0,t)):e[n]=t}},function(e,n,t){e.exports={default:t(95),__esModule:!0}},function(e,n,t){t(23),t(38),e.exports=t(35).f("iterator")},function(e,n,t){e.exports={default:t(97),__esModule:!0}},function(e,n,t){t(98),t(40),t(104),t(105),e.exports=t(1).Symbol},function(e,n,t){"use strict";var r=t(0),o=t(9),i=t(4),a=t(6),s=t(43),c=t(99).KEY,l=t(11),u=t(31),d=t(21),f=t(20),p=t(2),h=t(35),m=t(36),v=t(100),g=t(101),y=t(5),b=t(8),w=t(18),x=t(10),_=t(28),k=t(14),E=t(44),T=t(102),A=t(103),S=t(34),j=t(3),O=t(17),$=A.f,P=j.f,M=T.f,I=r.Symbol,C=r.JSON,N=C&&C.stringify,L=p("_hidden"),D=p("toPrimitive"),R={}.propertyIsEnumerable,F=u("symbol-registry"),z=u("symbols"),G=u("op-symbols"),q=Object.prototype,H="function"==typeof I&&!!S.f,U=r.QObject,B=!U||!U.prototype||!U.prototype.findChild,W=i&&l(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,n,t){var r=$(q,n);r&&delete q[n],P(e,n,t),r&&e!==q&&P(q,n,r)}:P,V=function(e){var n=z[e]=E(I.prototype);return n._k=e,n},Z=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},J=function(e,n,t){return e===q&&J(G,n,t),y(e),n=_(n,!0),y(t),o(z,n)?(t.enumerable?(o(e,L)&&e[L][n]&&(e[L][n]=!1),t=E(t,{enumerable:k(0,!1)})):(o(e,L)||P(e,L,k(1,{})),e[L][n]=!0),W(e,n,t)):P(e,n,t)},K=function(e,n){y(e);for(var t,r=v(n=x(n)),o=0,i=r.length;i>o;)J(e,t=r[o++],n[t]);return e},Y=function(e,n){return void 0===n?E(e):K(E(e),n)},X=function(e){var n=R.call(this,e=_(e,!0));return!(this===q&&o(z,e)&&!o(G,e))&&(!(n||!o(this,e)||!o(z,e)||o(this,L)&&this[L][e])||n)},Q=function(e,n){if(e=x(e),n=_(n,!0),e!==q||!o(z,n)||o(G,n)){var t=$(e,n);return!t||!o(z,n)||o(e,L)&&e[L][n]||(t.enumerable=!0),t}},ee=function(e){for(var n,t=M(x(e)),r=[],i=0;t.length>i;)o(z,n=t[i++])||n==L||n==c||r.push(n);return r},ne=function(e){for(var n,t=e===q,r=M(t?G:x(e)),i=[],a=0;r.length>a;)!o(z,n=r[a++])||t&&!o(q,n)||i.push(z[n]);return i};H||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===q&&n.call(G,t),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),W(this,e,k(1,t))};return i&&B&&W(q,e,{configurable:!0,set:n}),V(e)},s(I.prototype,"toString",function(){return this._k}),A.f=Q,j.f=J,t(56).f=T.f=ee,t(22).f=X,S.f=ne,i&&!t(12)&&s(q,"propertyIsEnumerable",X,!0),h.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var oe=O(p.store),ie=0;oe.length>ie;)m(oe[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=I(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var n in F)if(F[n]===e)return n},useSetter:function(){B=!0},useSimple:function(){B=!1}}),a(a.S+a.F*!H,"Object",{create:Y,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:ne});var ae=l(function(){S.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return S.f(w(e))}}),C&&a(a.S+a.F*(!H||l(function(){var e=I();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var n,t,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(t=n=r[1],(b(n)||void 0!==e)&&!Z(e))return g(n)||(n=function(e,n){if("function"==typeof t&&(n=t.call(this,e,n)),!Z(n))return n}),r[1]=n,N.apply(C,r)}}),I.prototype[D]||t(7)(I.prototype,D,I.prototype.valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,n,t){var r=t(20)("meta"),o=t(8),i=t(9),a=t(3).f,s=0,c=Object.isExtensible||function(){return!0},l=!t(11)(function(){return c(Object.preventExtensions({}))}),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,n){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!n)return"E";u(e)}return e[r].i},f=function(e,n){if(!i(e,r)){if(!c(e))return!0;if(!n)return!1;u(e)}return e[r].w},p=function(e){return l&&h.NEED&&c(e)&&!i(e,r)&&u(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,n,t){var r=t(17),o=t(34),i=t(22);e.exports=function(e){var n=r(e),t=o.f;if(t)for(var a,s=t(e),c=i.f,l=0;s.length>l;)c.call(e,a=s[l++])&&n.push(a);return n}},function(e,n,t){var r=t(16);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,n,t){var r=t(10),o=t(56).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):o(r(e))}},function(e,n,t){var r=t(22),o=t(14),i=t(10),a=t(28),s=t(9),c=t(42),l=Object.getOwnPropertyDescriptor;n.f=t(4)?l:function(e,n){if(e=i(e),n=a(n,!0),c)try{return l(e,n)}catch(e){}if(s(e,n))return o(!r.f.call(e,n),e[n])}},function(e,n,t){t(36)("asyncIterator")},function(e,n,t){t(36)("observable")},function(e,n){e.exports=function(e){function n(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}try{"undefined"!=typeof execScript&&function(){return"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener}()?execScript(e):"undefined"!=typeof eval?eval.call(null,e):n("EvalError: No eval function available")}catch(e){n(e)}}},function(e,n){},function(e,n,t){t(106)(t(109))},function(e,n){e.exports="/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\n(function(global, factory) {\n  if (typeof define === 'function' && define.amd)\n    define(function() { return factory(global) })\n  else\n    factory(global)\n}(this, function(window) {\n  var Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], concat = emptyArray.concat, filter = emptyArray.filter, slice = emptyArray.slice,\n    document = window.document,\n    elementDisplay = {}, classCache = {},\n    cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n    fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n    singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n    tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n    rootNodeRE = /^(?:body|html)$/i,\n    capitalRE = /([A-Z])/g,\n\n    // special attributes that should be get/set via method calls\n    methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n    adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n    table = document.createElement('table'),\n    tableRow = document.createElement('tr'),\n    containers = {\n      'tr': document.createElement('tbody'),\n      'tbody': table, 'thead': table, 'tfoot': table,\n      'td': tableRow, 'th': tableRow,\n      '*': document.createElement('div')\n    },\n    readyRE = /complete|loaded|interactive/,\n    simpleSelectorRE = /^[\\w-]*$/,\n    class2type = {},\n    toString = class2type.toString,\n    zepto = {},\n    camelize, uniq,\n    tempParent = document.createElement('div'),\n    propMap = {\n      'tabindex': 'tabIndex',\n      'readonly': 'readOnly',\n      'for': 'htmlFor',\n      'class': 'className',\n      'maxlength': 'maxLength',\n      'cellspacing': 'cellSpacing',\n      'cellpadding': 'cellPadding',\n      'rowspan': 'rowSpan',\n      'colspan': 'colSpan',\n      'usemap': 'useMap',\n      'frameborder': 'frameBorder',\n      'contenteditable': 'contentEditable'\n    },\n    isArray = Array.isArray ||\n      function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.matches || element.webkitMatchesSelector ||\n                          element.mozMatchesSelector || element.oMatchesSelector ||\n                          element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n      class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n\n  function likeArray(obj) {\n    var length = !!obj && 'length' in obj && obj.length,\n      type = $.type(obj)\n\n    return 'function' != type && !isWindow(obj) && (\n      'array' == type || length === 0 ||\n        (typeof length == 'number' && length > 0 && (length - 1) in obj)\n    )\n  }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n           .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n           .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n           .replace(/_/g, '-')\n           .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n      classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n      slice.call(element.children) :\n      $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  function Z(dom, selector) {\n    var i, len = dom ? dom.length : 0\n    for (i = 0; i < len; i++) this[i] = dom[i]\n    this.length = len\n    this.selector = selector || ''\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overridden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. This method can be overridden in plugins.\n  zepto.Z = function(dom, selector) {\n    return new Z(dom, selector)\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overridden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overridden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overridden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (element.getElementById && isSimple && maybeID) ? // Safari DocumentFragment doesn't have getElementById\n      ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n      (element.nodeType !== 1 && element.nodeType !== 9 && element.nodeType !== 11) ? [] :\n      slice.call(\n        isSimple && !maybeID && element.getElementsByClassName ? // DocumentFragment doesn't have getElementsByClassName/TagName\n          maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n          element.getElementsByTagName(selector) : // Or a tag\n          element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n      )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = document.documentElement.contains ?\n    function(parent, node) {\n      return parent !== node && parent.contains(node)\n    } :\n    function(parent, node) {\n      while (node && (node = node.parentNode))\n        if (node === parent) return true\n      return false\n    }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className || '',\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    try {\n      return value ?\n        value == \"true\" ||\n        ( value == \"false\" ? false :\n          value == \"null\" ? null :\n          +value + \"\" == value ? +value :\n          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n          value )\n        : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.isNumeric = function(val) {\n    var num = Number(val), type = typeof val\n    return val != null && type != 'boolean' &&\n      (type != 'string' || val.length) &&\n      !isNaN(num) && isFinite(num) || false\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n  $.noop = function() {}\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    constructor: zepto.Z,\n    length: 0,\n\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    splice: emptyArray.splice,\n    indexOf: emptyArray.indexOf,\n    concat: function(){\n      var i, value, args = []\n      for (i = 0; i < arguments.length; i++) {\n        value = arguments[i]\n        args[i] = zepto.isZ(value) ? value.toArray() : value\n      }\n      return concat.apply(zepto.isZ(this) ? this.toArray() : this, args)\n    },\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n          (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n          $.contains(this, selector) :\n          $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (!selector) result = $()\n      else if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var nodes = [], collection = typeof selector == 'object' && $(selector)\n      this.each(function(_, node){\n        while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n          node = node !== context && !isDocument(node) && node.parentNode\n        if (node && nodes.indexOf(node) < 0) nodes.push(node)\n      })\n      return $(nodes)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return this.contentDocument || slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      })\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n          func ? structure.call(this, index) :\n            clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n        ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var originHtml = this.innerHTML\n          $(this).empty().append( funcArg(this, html, idx, originHtml) )\n        }) :\n        (0 in this ? this[0].innerHTML : null)\n    },\n    text: function(text){\n      return 0 in arguments ?\n        this.each(function(idx){\n          var newText = funcArg(this, text, idx, this.textContent)\n          this.textContent = newText == null ? '' : ''+newText\n        }) :\n        (0 in this ? this.pluck('textContent').join(\"\") : null)\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && !(1 in arguments)) ?\n        (0 in this && this[0].nodeType == 1 && (result = this[0].getAttribute(name)) != null ? result : undefined) :\n        this.each(function(idx){\n          if (this.nodeType !== 1) return\n          if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n          else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n        })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && name.split(' ').forEach(function(attribute){\n        setAttribute(this, attribute)\n      }, this)})\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (1 in arguments) ?\n        this.each(function(idx){\n          this[name] = funcArg(this, value, idx, this[name])\n        }) :\n        (this[0] && this[0][name])\n    },\n    removeProp: function(name){\n      name = propMap[name] || name\n      return this.each(function(){ delete this[name] })\n    },\n    data: function(name, value){\n      var attrName = 'data-' + name.replace(capitalRE, '-$1').toLowerCase()\n\n      var data = (1 in arguments) ?\n        this.attr(attrName, value) :\n        this.attr(attrName)\n\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      if (0 in arguments) {\n        if (value == null) value = \"\"\n        return this.each(function(idx){\n          this.value = funcArg(this, value, idx, this.value)\n        })\n      } else {\n        return this[0] && (this[0].multiple ?\n           $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n           this[0].value)\n      }\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (!this.length) return null\n      if (document.documentElement !== this[0] && !$.contains(document.documentElement, this[0]))\n        return {top: 0, left: 0}\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0]\n        if (typeof property == 'string') {\n          if (!element) return\n          return element.style[camelize(property)] || getComputedStyle(element, '').getPropertyValue(property)\n        } else if (isArray(property)) {\n          if (!element) return\n          var props = {}\n          var computedStyle = getComputedStyle(element, '')\n          $.each(property, function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (!('className' in this)) return\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n            $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n        function(){ this.scrollTop = value } :\n        function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n        function(){ this.scrollLeft = value } :\n        function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n        // Get *real* offsetParent\n        offsetParent = this.offsetParent(),\n        // Get correct offsets\n        offset       = this.offset(),\n        parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n  // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n      dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n        isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n        (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var i = 0, len = node.childNodes.length; i < len; i++)\n      traverseNode(node.childNodes[i], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            var arr = []\n            argType = type(arg)\n            if (argType == \"array\") {\n              arg.forEach(function(el) {\n                if (el.nodeType !== undefined) return arr.push(el)\n                else if ($.zepto.isZ(el)) return arr = arr.concat(el.get())\n                arr = arr.concat(zepto.fragment(el))\n              })\n              return arr\n            }\n            return argType == \"object\" || arg == null ?\n              arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n                 operatorIndex == 1 ? target.firstChild :\n                 operatorIndex == 2 ? target :\n                 null\n\n        var parentInDocument = $.contains(document.documentElement, parent)\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          parent.insertBefore(node, target)\n          if (parentInDocument) traverseNode(node, function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n               (!el.type || el.type === 'text/javascript') && !el.src){\n              var target = el.ownerDocument ? el.ownerDocument.defaultView : window\n              target['eval'].call(target, el.innerHTML)\n            }\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n        && (!event.e  || handler.e == event.e)\n        && (!event.ns || matcher.test(handler.ns))\n        && (!fn       || zid(handler.fn) === zid(fn))\n        && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n      (!focusinSupported && (handler.e in focus)) ||\n      !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n    ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n      if ('removeEventListener' in element)\n        element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    var args = (2 in arguments) && slice.call(arguments, 2)\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, args ? args.concat(slice.call(arguments)) : arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      if (args) {\n        args.unshift(fn[context], fn)\n        return $.proxy.apply(null, args)\n      } else {\n        return $.proxy(fn[context], fn)\n      }\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      event.timeStamp || (event.timeStamp = Date.now())\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n          source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (callback === undefined || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // handle focus(), blur() by calling them directly\n      if (event.type in focus && typeof this[event.type] == \"function\") this[event.type]()\n      // items in the collection might not be DOM elements\n      else if ('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n  // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout focus blur load resize scroll unload click dblclick '+\n  'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n  'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n    $.fn[event] = function(callback) {\n      return (0 in arguments) ?\n        this.bind(event, callback) :\n        this.trigger(event)\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = +new Date(),\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/,\n      originAnchor = document.createElement('a')\n\n  originAnchor.href = window.location.href\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  function ajaxDataFilter(data, type, settings) {\n    if (settings.dataFilter == empty) return data\n    var context = settings.context\n    return settings.dataFilter.call(context, data, type)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n      callbackName = ($.isFunction(_callbackName) ?\n        _callbackName() : _callbackName) || ('Zepto' + (jsonpID++)),\n      script = document.createElement('script'),\n      originalCallback = window[callbackName],\n      responseData,\n      abort = function(errorType) {\n        $(script).triggerHandler('error', errorType || 'abort')\n      },\n      xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true,\n    //Used to handle the raw response data of XMLHttpRequest.\n    //This is a pre-filtering function to sanitize the response.\n    //The sanitized response should be returned\n    dataFilter: empty\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n      scriptTypeRE.test(mime) ? 'script' :\n      xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET' || 'jsonp' == options.dataType))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred(),\n        urlAnchor, hashIndex\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) {\n      urlAnchor = document.createElement('a')\n      urlAnchor.href = settings.url\n      // cleans up URL for .href (IE only), see https://github.com/madrobby/zepto/pull/1049\n      urlAnchor.href = urlAnchor.href\n      settings.crossDomain = (originAnchor.protocol + '//' + originAnchor.host) !== (urlAnchor.protocol + '//' + urlAnchor.host)\n    }\n\n    if (!settings.url) settings.url = window.location.toString()\n    if ((hashIndex = settings.url.indexOf('#')) > -1) settings.url = settings.url.slice(0, hashIndex)\n    serializeData(settings)\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (hasPlaceholder) dataType = 'jsonp'\n\n    if (settings.cache === false || (\n         (!options || options.cache !== true) &&\n         ('script' == dataType || 'jsonp' == dataType)\n        ))\n      settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    if ('jsonp' == dataType) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n          settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n\n          if (xhr.responseType == 'arraybuffer' || xhr.responseType == 'blob')\n            result = xhr.response\n          else {\n            result = xhr.responseText\n\n            try {\n              // http://perfectionkills.com/global-eval-what-are-the-options/\n              // sanitize response accordingly if data filter callback provided\n              result = ajaxDataFilter(result, dataType, settings)\n              if (dataType == 'script')    (1,eval)(result)\n              else if (dataType == 'xml')  result = xhr.responseXML\n              else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n            } catch (e) { error = e }\n\n            if (error) return ajaxError(error, 'parsererror', xhr, settings, deferred)\n          }\n\n          ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n        xhr.onreadystatechange = empty\n        xhr.abort()\n        ajaxError(null, 'timeout', xhr, settings, deferred)\n      }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n    , data: data\n    , success: success\n    , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n        $('<div>').html(response.replace(rscript, \"\")).find(selector)\n        : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n        scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(key, value) {\n      if ($.isFunction(value)) value = value()\n      if (value == null) value = \"\"\n      this.push(escape(key) + '=' + escape(value))\n    }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var name, type, result = [],\n      add = function(value) {\n        if (value.forEach) return value.forEach(add)\n        result.push({ name: name, value: value })\n      }\n    if (this[0]) $.each(this[0].elements, function(_, field){\n      type = field.type, name = field.name\n      if (name && field.nodeName.toLowerCase() != 'fieldset' &&\n        !field.disabled && type != 'submit' && type != 'reset' && type != 'button' && type != 'file' &&\n        ((type != 'radio' && type != 'checkbox') || field.checked))\n          add($(field).val())\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (0 in arguments) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function(){\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle\n    window.getComputedStyle = function(element, pseudoElement){\n      try {\n        return nativeGetComputedStyle(element, pseudoElement)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})()\n  return Zepto\n}))\n"},,function(e,n,t){"use strict";function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"wap";return new c.default(function(i,a){$.ajax({url:e,type:t,dataType:r,data:n,headers:{device:o},success:function(e){i(e)},error:function(e){a(e)}})})}function o(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"wap";return new c.default(function(i,a){$.ajax({url:e,type:t,dataType:r,data:n,headers:{device:o},success:function(e){i(e)},error:function(e){a(e)}})})}function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DELETE",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"wap";return new c.default(function(i,a){$.ajax({url:e,type:t,dataType:r,data:n,headers:{device:o},success:function(e){i(e)},error:function(e){a(e)}})})}function a(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PUT",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"wap";return new c.default(function(i,a){$.ajax({url:e,type:t,dataType:r,data:n,headers:{device:o},success:function(e){i(e)},error:function(e){a(e)}})})}Object.defineProperty(n,"__esModule",{value:!0}),n.api=void 0;var s=t(24),c=function(e){return e&&e.__esModule?e:{default:e}}(s);n.ajax=r,n.get=o,n.del=i,n.put=a;n.api={get:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";return new c.default(function(o,i){$.ajax({url:e,type:"GET",dataType:r,data:n,headers:t,success:function(e){o(e?e.data&&e.data.success?e.data.data:e.data?e.data:e:e)},error:function(e){i(e)}})})},post:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";return new c.default(function(o,i){$.ajax({url:e,type:"POST",dataType:r,data:n,headers:t,success:function(e){o(e?e.data&&e.data.success?e.data.data:e.data?e.data:e:e)},error:function(e){i(e)}})})},put:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"json";return new c.default(function(o,i){$.ajax({url:e,type:"PUT",dataType:r,data:n,headers:t,success:function(e){o(e?e.data&&e.data.success?e.data.data:e.data?e.data:e:e)},error:function(e){i(e)}})})},ajax:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json";return new c.default(function(i,a){$.ajax({url:e,type:t,dataType:o,data:n,headers:r,success:function(e){i(e?e.data&&e.data.success?e.data.data:e.data?e.data:e:e)},error:function(e){a(e)}})})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,n,t){t(108),e.exports=t(181)},function(e,n,t){"use strict";t(107),t(182)},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){V?window.androidApi&&(J=!!window.androidApi.getUserId()):a({type:"MKLoginState",data:{}})}function i(){function e(){V?window.androidApi.open("app://maka.im/designer?id="+TEMPLATE_INFO.authId):a({type:"MKTemplateDesigner",data:{designerId:TEMPLATE_INFO.authId}})}document.querySelector(".designer-thumb").addEventListener("click",e),document.querySelector(".designer-info").addEventListener("click",e)}function a(e){window.webkit&&window.webkit.messageHandlers.JS_MESSAGE_MODEL.postMessage((0,j.default)(e))}function s(){if("poster"===TEMPLATE_INFO.type){var e=document.querySelector(".viewer-container").offsetHeight,n=document.querySelector(".viewer-container").offsetWidth,t=document.querySelector(".viewer-container img");1.78*n>e?(t.style.width=e/1.78,t.style.height=e):t.style.height=1.78*n,B=parseInt(t.style.height)/3}else if("maka"===TEMPLATE_INFO.type){var r=document.querySelector(".viewer-container iframe"),o=r.getAttribute("data-src");B=document.querySelector(".viewer-container").offsetHeight/3,r.onload=window.buildBridgeBetweenAppAndViewer,r.setAttribute("src",o)}else if("video"===TEMPLATE_INFO.type){var i=document.querySelector(".viewer-container").offsetHeight,a=document.querySelector(".viewer-container iframe"),s=a.getAttribute("data-src");a.style.width=i/1280*720,B=document.querySelector(".viewer-container").offsetHeight/3,a.onload=window.buildBridgeBetweenAppAndViewer,a.setAttribute("src",s)}"maka"!==TEMPLATE_INFO.type&&($(document).on("touchstart",function(e){Y=!0,K=!0}),$(document).on("touchend",function(){Y=!1,K=!1,W()})),$(document).on("scroll",W)}function c(e){if("maka"===TEMPLATE_INFO.type||e){var n=document.querySelector(".btn-bar .view");return void(document.body.scrollTop>3*B-3?(n.classList.remove("viewing"),n.innerHTML="<span class=view-span>模版预览</span>",U=!1):(U=!0,n.classList.add("viewing"),n.innerHTML="<span class=view-span>模版详情</span>"))}K||(U?document.body.scrollTop>B-50?u(null,3*B<document.body.scrollTop):l("view"):document.body.scrollTop<3*B-30?u():document.body.scrollTop<3*B&&l("detail"))}function l(e){if(!Y){for(var n="view"===e?0:document.querySelector(".viewer-container").offsetHeight,t=n-document.body.scrollTop,r=Math.ceil(t/30),o=0;o<30;o++)setTimeout(function(){Y||(document.body.scrollTop+=r,K=!0)},4*o);setTimeout(function(){K=!1,Y||(document.body.scrollTop=n)},130)}}function u(e,n){e&&e.stopPropagation();var t=document.querySelector(".btn-bar .view");t&&(t.classList.contains("viewing")?(t.classList.remove("viewing"),t.innerHTML="<span class=view-span>模版预览</span>",U=!1,n||l("detail")):(U=!0,t.classList.add("viewing"),t.innerHTML="<span class=view-span>模版详情</span>",n||l("view")))}function d(){var e=document.querySelector(".btn-bar .use")?"使用":"试用";window.androidApi?window.androidApi.rightButtonConfig(e,0,0):a({type:"MKNavigationItemConfig",data:{posistion:"right",function:"function_use",title:e}}),document.querySelector(".free")&&V&&f(),document.querySelector(".btn-bar .buy")?document.querySelector(".btn-bar .buy").addEventListener("click",function(){p()&&(V?window.androidApi.open("app://maka.im/buyTemplate?templateId="+TEMPLATE_INFO.id+"&type="+TEMPLATE_INFO.type+"&enableLease="+TEMPLATE_INFO.enable_lease+"&pay_channel="+pay_channel):a({type:"MKTemplateBuy"}))}):document.querySelector(".btn-bar .use").addEventListener("click",function(){h({useBtn:!0})})}function f(){J?(0,M.get)(P.default.API_USER_VIP_AUTH(C.default.getCookie("Makauid"))).then(function(e){var n=void 0;"maka"===TEMPLATE_INFO.type&&Number(e.data.enable_maka)?n=!0:"poster"===TEMPLATE_INFO.type&&Number(e.data.enable_poster)?n=!0:"video"===TEMPLATE_INFO.type&&Number(e.data.enable_video)&&(n=!0),document.querySelector(".free").addEventListener("click",function(){if(p())if(n)h({vipBtn:!0});else if(T(),V){var e=window.androidApi.appVersion();if(C.default.versionCompare(e,"4.4.4")){if(ee){var t=(0,j.default)({panel:"1",type:TEMPLATE_INFO.type,pay_channel:pay_channel});window.androidApi.invoke("purchaseMember",t),ee=!1,setTimeout(function(){ee=!0},500)}}else window.androidApi.openUrl(location.origin+"/appfs/member/buy?pay_channel="+pay_channel,"_blank","会员购买")}else{var r=C.default.getParam("version");a(C.default.versionCompare(r,"4.4.4")?{type:"MKVipRegister",data:{type:"popup",pay_channel:pay_channel}}:{type:"MKForward",data:{type:"native",goto:location.origin+"/appfs/member/buy?pay_channel="+pay_channel}})}})}).catch(function(e){}):document.querySelector(".free").addEventListener("click",p)}function p(){return window.location.href.indexOf("andtest")>-1&&alert("checking login ..."),J?(window.location.href.indexOf("andtest")>-1&&alert("user has logined"),!0):(window.location.href.indexOf("andtest")>-1&&alert("user not login ... "),V?(window.location.href.indexOf("andtest")>-1&&alert("jumping to app://maka.im/login..."),window.androidApi.open("app://maka.im/login")):(window.location.href.indexOf("andtest")>-1&&alert("ios MK login"),a({type:"MKLogin",data:{}})),!1)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.vipBtn,e.useBtn,e.rightTopBtn;p()&&(V?window.androidApi.openEditorFromTemplate((0,j.default)(TEMPLATE_INFO),(0,j.default)(Z),""):a({type:"MKTemplateUse",data:TEMPLATE_INFO}))}function m(){q.style.width=G*(document.querySelectorAll(".fproject").length+.8)+"px",N=new IScroll(".recommend-project",{scrollY:!1,scrollX:!0,tap:!0,disableMouse:!0,disablePointer:!0,eventPassthrough:!0,bindToWrapper:!0}),N.on("scrollEnd",function(){return w("fproject")}),H&&(H.style.width=G*(document.querySelectorAll(".dproject").length+.8)+"px",L=new IScroll(".designer-project",{scrollY:!1,scrollX:!0,tap:!0,disableMouse:!0,disablePointer:!0,eventPassthrough:!0,bindToWrapper:!0}),L.on("scrollEnd",function(){return w("dproject")}))}function v(){document.querySelector(".IAPtip")&&(document.querySelector(".IAPtip").addEventListener("click",function(){document.querySelector(".ms-pop").classList.add("show")}),document.querySelector(".ms-pop .close").addEventListener("click",function(){document.querySelector(".ms-pop").classList.remove("show")}))}function g(){R&&(q.removeChild(document.querySelector(".recommend-project .icn")),R=!1,(0,M.get)(P.default.API_RECOMMENDED_TEMPLATES,{per_page:10,page_number:F++,type:TEMPLATE_INFO.type,template_id:TEMPLATE_INFO.id}).then(function(e){var n=e.data;if(n.dataList.length){var t="";n.dataList.forEach(function(e){t+='<div class="project fproject" data-id="'+e.id+'" data-url="/appfs/template/'+e.id+'">\n               <div style="background-image: url(\''+e.firstImg+'\');" class="'+e.type+" img "+("1"===e.enable_lease?"vip":"")+'" >\n                <div class="bg-grey">\n                </div>\n                <div class="sale">\n                  销量: '+e.show_sales+'\n                </div>\n                <div class="times">\n                  '+("video"===e.type?b(e.duration):"")+'\n                </div>\n               </div>\n              <div class="title">\n                '+e.title+'\n              </div>\n              <div class="price '+e.type+'">\n                '+(parseInt(e.real_price)?"￥"+Number(e.real_price).toFixed(2):"免费")+"\n              </div>\n            </div>"}),q.innerHTML+=t+'<div class="icn"><div class="cut"><div class="donut"></div></div></div>',q.style.width=G*(document.querySelectorAll(".fproject").length+.8)+"px",R=!0,setTimeout(function(){return N.refresh()},200),setTimeout(function(){return N.refresh()},1e3)}}))}function y(){D&&(D=!1,H.removeChild(document.querySelector(".designer-project .icn")),(0,M.get)(P.default.API_DESIGNERS_SHELVES(TEMPLATE_INFO.authId),{per_page:10,page_number:z++,type:TEMPLATE_INFO.type}).then(function(e){var n=e.data;if(n.data.length){var t="";n.data.forEach(function(e){e.template_id!==TEMPLATE_INFO.id&&(t+='<div class="project dproject" data-id="'+e.template_id+'" data-url="/appfs/template/'+e.template_id+'">\n              <div style="background-image: url(\''+e.firstImg+'\');" class="'+e.type+" img "+("1"===e.enable_lease?"vip":"")+'" >\n                <div class="bg-grey">\n                </div>\n                <div class="sale">\n                  销量: '+e.show_sales+'\n                </div>\n                <div class="times">\n                  '+("video"===e.type?b(e.duration):"")+'\n                </div>\n              </div>\n              <div class="title">\n                '+e.title+'\n              </div>\n              <div class="price '+e.type+'">\n                '+(parseInt(e.price)?"￥"+Number(e.price).toFixed(2):"免费")+"\n              </div>\n            </div>")}),H.innerHTML+=t+'<div class="icn"><div class="cut"><div class="donut"></div></div></div>',H.style.width=G*(document.querySelectorAll(".dproject").length+.8)+"px",D=!0,setTimeout(function(){return L.refresh()},200),setTimeout(function(){return L.refresh()},1e3)}}))}function b(e){var n=Math.floor(e/6e4),t=Math.round(e/1e3)%60;return n=n>9?n:"0"+n,t=t>9?t:"0"+t,n+":"+t}function w(e){var n=document.getElementsByClassName(e);n[n.length-1].getBoundingClientRect().right<4*G+window.innerWidth&&("dproject"===e?y():g())}function x(){var e=document.querySelector(".detail-c .detail"),n=document.querySelector(".more-arr");if(e.scrollHeight>.8*parseInt(window.innerWidth)){n.classList.toggle("show");var t=document.querySelector(".less-arr");n.addEventListener("click",function(){n.classList.toggle("show"),t.classList.toggle("show"),e.classList.toggle("less")}),t.addEventListener("click",function(){n.classList.toggle("show"),t.classList.toggle("show"),e.classList.toggle("less")})}}function _(e,n){"function_use"===e?h({rightTopBtn:!0}):"loginState"===e&&(n.uid?(C.default.setCookie("Makauid",n.uid),C.default.setCookie("token",n.token),J=!0):C.default.deleteCookie("Makauid"),f())}function k(e,n){return"rightText"===e&&h({rightTopBtn:!0}),"purchaseMemberResult"===e&&200===parseInt(n.code)&&(C.default.setCookie("Makauid",X),C.default.setCookie("token",Q),window.androidApi.invoke("reload",(0,j.default)({}))),!1}function E(){var e=$("#viewer-iframe")[0];if(e&&e.contentWindow){var n=e.contentWindow;["_onPause","_onResume","_host_onPause","_host_onResume","_getMusicStatus"].forEach(function(e){n[e]&&(window[e]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n[e].apply(n,r)})})}}function T(){V?window.androidApi.statClick("NEW_PURCHASE_MEMBER_ACTIVE",(0,j.default)({"来源":"模板详情"})):a({type:"MKClick",data:{event:"NEW_PURCHASE_MEMBER_ACTIVE",attributes:{"来源":"模板详情"}}})}function A(){var e=void 0,n=void 0,t=document.querySelector(".template-detail-page");t.addEventListener("touchstart",function(n){e=n.touches[0].clientY}),t.addEventListener("touchend",function(t){n=t.changedTouches[0].clientY;var r=n-e>0,o=document.body.scrollTop<.8*window.innerHeight;r&&U&&o&&l("view")})}var S=t(37),j=r(S),O=t(63),P=r(O),M=t(111),I=t(57),C=r(I);t(183);var N=void 0,L=void 0,D=!0,R=!0,F=1,z=1,G=parseInt(document.querySelector(".project.fproject").offsetWidth)+.5,q=document.querySelector(".recommend-project .scroll"),H=document.querySelector(".designer-project .scroll"),U=!0,B=void 0,W=function(e,n,t){var r;return function(){var o=this,i=arguments,a=function(){r=null,t||e.apply(o,i)},s=t&!r;clearTimeout(r),r=setTimeout(a,n),s&&e.apply(o,i)}}(c,60),V=void 0,Z=void 0,J=void 0,K=void 0,Y=!1,X=void 0,Q=void 0,ee=!0;$(document).ready(function(){s()}),window.onload=function(){V=navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,$.ajax({url:TEMPLATE_INFO.json_url,type:"GET",dataType:"json",data:{},success:function(e){Z=e}}),o(),setTimeout(d,1e3),m(),x(),v(),l("view"),A(),$(".btn-bar .view").on("click",u),$(".template-detail-page").on("click",".project",function(){this.dataset.url&&(V?window.androidApi.openUrl(location.origin+this.dataset.url,"_blank","模版详情"):a({type:"MKTemplateDetail",data:{templateId:this.dataset.id}}))}),i()},window.function_bridge=_,window._onNativeMessage=k,window.buildBridgeBetweenAppAndViewer=E},function(e,n){}]);